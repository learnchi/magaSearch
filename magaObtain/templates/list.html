{% load static %}
{% load bootstrap5 %}
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
{% bootstrap_css %}
<script src="{% static 'js/jquery-3.6.0.min.js' %}"></script>
{% bootstrap_javascript %}
<script src="{% static 'js/magaObtain.js' %}"></script>
<title>リスト</title>
</head>
<body class="bg-light d-flex flex-column-reverse flex-sm-row">

	<div class="d-flex flex-column p-3 text-white bg-dark" style="min-width: 180px;">
	
	<ul class="nav nav-pills flex-column mb-auto">
      <li class="nav-item">
        <a href="{% url 'index' %}" class="nav-link text-white" aria-current="page">
          home
        </a>
      </li>
      <li class="nav-item">
        <a href="{% url 'list' %}" class="nav-link active">
          list
        </a>
      </li>
      <li class="nav-item">
        <a href="{% url 'search' %}" class="nav-link text-white">
          search
        </a>
      </li>
      <li class="nav-item">
        <a href="{% url 'logout' %}" class="nav-link text-white">
          logout
        </a>
      </li>
    </ul>
	</div>
	
	<div class="container bg-white border" style="max-width:768px;min-height: 100vh;">
		<div class="d-flex justify-content-between">
			<h1>{{ title }}</h1>
			<button type="button" class="btn btn-primary" id="fetchFromSite" data-url="{% url 'fetch' %}">サイトから100記事分取得</button>
		</div>
		
        <div class="list-group list-group-flush">
		{% for key, value in list.items %}
        <div class="fs-4">
          <div class="mb-1">{{ key }}</div>
        </div>
			{% for article in value %}
          <a name="article-ancher" href="{% url 'article' article.content_date.year article.content_date.month article.content_date.day %}" class="list-group-item list-group-item-action">
          
            <div class="d-flex w-100 justify-content-between">
              <div class="mb-1">{{ article.subject }}</div>
              <small>{{ article.content_date }}</small>
            </div>
          	
          </a>
			{% endfor %}
		{% endfor %}
        </div>
	</div>
	
</body>
</html>